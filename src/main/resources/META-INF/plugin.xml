<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>io.github.pandier.intellijdiscordrp</id>
    <name>Discord Rich Presence</name>
    <vendor url="https://github.com/pandier">Pandier</vendor>

    <description><![CDATA[
        This plugin adds support for Discord Rich Presence.
  ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService
                serviceImplementation="io.github.pandier.intellijdiscordrp.settings.DiscordSettingsComponent" />

        <applicationConfigurable
            parentId="tools"
            instance="io.github.pandier.intellijdiscordrp.settings.DiscordSettingsConfigurable"
            id="io.github.pandier.intellijdiscordrp.settings.DiscordSettingsConfigurable"
            displayName="Discord Rich Presence" />

        <postStartupActivity implementation="io.github.pandier.intellijdiscordrp.listener.RichPresenceProjectListener" />
    </extensions>

    <actions>
        <group id="io.github.pandier.intellijdiscordrp.action.DiscordActionGroup"
               text="Discord Rich Presence"
               popup="true">
            <add-to-group group-id="ToolsMenu" />
            <action id="io.github.pandier.intellijdiscordrp.action.DiscordReconnectAction"
                    class="io.github.pandier.intellijdiscordrp.action.DiscordReconnectAction"
                    text="Reconnect to Discord Client">
            </action>
        </group>
    </actions>

    <applicationListeners>
        <listener
                class="io.github.pandier.intellijdiscordrp.listener.RichPresenceProjectListener"
                topic="com.intellij.openapi.project.ProjectManagerListener" />
        <listener
                class="io.github.pandier.intellijdiscordrp.listener.RichPresenceFileListener"
                topic="com.intellij.openapi.fileEditor.FileEditorManagerListener" />
    </applicationListeners>
</idea-plugin>